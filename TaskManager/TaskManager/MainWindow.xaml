<Window x:Class="TaskManager.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Task Manager" Height="450" Width="800">
    <DockPanel Margin="10">
        <!-- Панель кнопок -->
        <StackPanel DockPanel.Dock="Top"
                    Orientation="Horizontal"
                    Margin="0,0,0,10">
            <Button Content="Загрузить"
                    Command="{Binding LoadCommand}"
                    Margin="0,0,10,0"
                    Width="100" />
            <Button Content="Добавить"
                    Command="{Binding AddCommand}"
                    Margin="0,0,10,0"
                    Width="100" />
            <Button Content="Сохранить"
                    Command="{Binding SaveCommand}"
                    Margin="0,0,10,0"
                    Width="100" />
            <Button Content="Удалить"
                    Command="{Binding DeleteCommand}"
                    Width="100" />
        </StackPanel>

        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="2*" />
                <ColumnDefinition Width="3*" />
            </Grid.ColumnDefinitions>

            <!-- Список задач -->
            <DataGrid Grid.Column="0"
                      ItemsSource="{Binding Tasks}"
                      SelectedItem="{Binding SelectedTask}"
                      AutoGenerateColumns="False"
                      IsReadOnly="True"
                      Margin="0,0,10,0">
                <DataGrid.Columns>
                    <DataGridCheckBoxColumn Header="Готово"
                                            Binding="{Binding IsCompleted}"
                                            Width="60" />
                    <DataGridTextColumn Header="Название"
                                        Binding="{Binding Title}"
                                        Width="*" />
                    <DataGridTextColumn Header="Дедлайн"
                                        Binding="{Binding DueDate, StringFormat=d}"
                                        Width="100" />
                    <DataGridTextColumn Header="Приоритет"
                                        Binding="{Binding Priority}"
                                        Width="80" />
                </DataGrid.Columns>
            </DataGrid>

            <!-- Детали задачи -->
            <StackPanel Grid.Column="1">
                <TextBlock Text="Название:" Margin="0,0,0,3"/>
                <TextBox Text="{Binding SelectedTask.Title, UpdateSourceTrigger=PropertyChanged}" />

                <TextBlock Text="Описание:" Margin="0,10,0,3"/>
                <TextBox Text="{Binding SelectedTask.Description, UpdateSourceTrigger=PropertyChanged}"
                         AcceptsReturn="True"
                         Height="80" />

                <TextBlock Text="Дедлайн:" Margin="0,10,0,3"/>
                <DatePicker SelectedDate="{Binding SelectedTask.DueDate, UpdateSourceTrigger=PropertyChanged}" />

                <TextBlock Text="Приоритет (1–5):" Margin="0,10,0,3"/>
                <TextBox Text="{Binding SelectedTask.Priority, UpdateSourceTrigger=PropertyChanged}"
                         Width="60" />

                <CheckBox Content="Завершена"
                          Margin="0,10,0,0"
                          IsChecked="{Binding SelectedTask.IsCompleted}" />
            </StackPanel>
        </Grid>
    </DockPanel>
</Window>
